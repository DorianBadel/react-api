{"ast":null,"code":"var _jsxFileName = \"A:\\\\Work\\\\PersonalDevelopment\\\\03 {React API}\\\\api_app\\\\src\\\\Pages\\\\Register\\\\Register.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport { AuthContext } from \"../../api/context/authContext\";\nimport { useForm } from \"../../assets/hooks\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { gql } from 'graphql-tag';\nimport { useNavigate } from \"react-router-dom\";\nimport { TextField, Container, Stack } from \"@mui/material\";\nimport MainBody from '../../components/MainBody';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REGISTER_USER = gql`\n  mutation Mutation(\n    $registerInput: RegisterInput\n  ) {\n    registerUser(\n      registerInput: $registerInput\n    ) {\n      username\n      token\n    }\n  }\n`;\nfunction Register() {\n  _s();\n  const context = useContext(AuthContext);\n  let navigate = useNavigate();\n  const [errors, setErrors] = useState([]);\n  function registerUserCallback() {\n    console.log(\"Callback hit\");\n  }\n  const {\n    onChange,\n    onSubmit,\n    values\n  } = useForm(registerUserCallback, {\n    username: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [registerUser, {\n    loading\n  }] = useMutation(REGISTER_USER, {\n    update(proxy, _ref) {\n      let {\n        data: {\n          registerUser: userData\n        }\n      } = _ref;\n      context.login(userData);\n      navigate('/');\n    },\n    onError(_ref2) {\n      let {\n        graphQLErrors\n      } = _ref2;\n      console.log(\"oops\");\n    },\n    variables: {\n      registerInput: values\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(MainBody, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Register bellow:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        paddingBottom: 2,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username\",\n          name: \"username\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"GTm71rrAEXkNKBxs5h5/YYOtRnU=\", false, function () {\n  return [useNavigate, useForm, useMutation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","useContext","AuthContext","useForm","useMutation","gql","useNavigate","TextField","Container","Stack","MainBody","REGISTER_USER","Register","context","navigate","errors","setErrors","registerUserCallback","console","log","onChange","onSubmit","values","username","password","confirmPassword","registerUser","loading","update","proxy","data","userData","login","onError","graphQLErrors","variables","registerInput"],"sources":["A:/Work/PersonalDevelopment/03 {React API}/api_app/src/Pages/Register/Register.tsx"],"sourcesContent":["import {useState, useContext} from 'react'\r\nimport { AuthContext } from \"../../api/context/authContext\";\r\nimport {useForm } from \"../../assets/hooks\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\n\r\nimport { gql } from 'graphql-tag';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { TextField, Button, Container, Stack, Alert } from \"@mui/material\";\r\nimport MainBody from '../../components/MainBody';\r\n\r\nconst REGISTER_USER = gql`\r\n  mutation Mutation(\r\n    $registerInput: RegisterInput\r\n  ) {\r\n    registerUser(\r\n      registerInput: $registerInput\r\n    ) {\r\n      username\r\n      token\r\n    }\r\n  }\r\n`\r\n\r\nfunction Register() {\r\n  const context = useContext(AuthContext);\r\n  let navigate = useNavigate();\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  function registerUserCallback() {\r\n    console.log(\"Callback hit\");\r\n  }\r\n\r\n  const {onChange, onSubmit, values } = useForm(registerUserCallback, {\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const [ registerUser, {loading}] = useMutation(REGISTER_USER, {\r\n    update(proxy, { data: { registerUser: userData}}) {\r\n      context.login(userData);\r\n      navigate('/');\r\n    },\r\n    onError({ graphQLErrors }) {\r\n      console.log(\"oops\");\r\n    },\r\n    variables: {\r\n      registerInput: values\r\n    }\r\n\r\n  })\r\n\r\n\r\n  return (\r\n    <MainBody>\r\n      <Container maxWidth=\"sm\">\r\n        <h3>Register</h3>\r\n        <p>Register bellow:</p>\r\n        <Stack spacing={2} paddingBottom={2}>\r\n          <TextField \r\n            label=\"Username\"\r\n            name=\"username\"\r\n            onChange={onChange}\r\n          />\r\n        </Stack>\r\n\r\n\r\n      </Container>\r\n    </MainBody>\r\n    \r\n  )\r\n}\r\n\r\nexport default Register"],"mappings":";;AAAA,SAAQA,QAAQ,EAAEC,UAAU,QAAO,OAAO;AAC1C,SAASC,WAAW,QAAQ,+BAA+B;AAC3D,SAAQC,OAAO,QAAQ,oBAAoB;AAC3C,SAASC,WAAW,QAAQ,qBAAqB;AAEjD,SAASC,GAAG,QAAQ,aAAa;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,SAAS,EAAUC,SAAS,EAAEC,KAAK,QAAe,eAAe;AAC1E,OAAOC,QAAQ,MAAM,2BAA2B;AAAC;AAEjD,MAAMC,aAAa,GAAGN,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,SAASO,QAAQ,GAAG;EAAA;EAClB,MAAMC,OAAO,GAAGZ,UAAU,CAACC,WAAW,CAAC;EACvC,IAAIY,QAAQ,GAAGR,WAAW,EAAE;EAC5B,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAExC,SAASiB,oBAAoB,GAAG;IAC9BC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC7B;EAEA,MAAM;IAACC,QAAQ;IAAEC,QAAQ;IAAEC;EAAO,CAAC,GAAGnB,OAAO,CAACc,oBAAoB,EAAE;IAClEM,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM,CAAEC,YAAY,EAAE;IAACC;EAAO,CAAC,CAAC,GAAGvB,WAAW,CAACO,aAAa,EAAE;IAC5DiB,MAAM,CAACC,KAAK,QAAsC;MAAA,IAApC;QAAEC,IAAI,EAAE;UAAEJ,YAAY,EAAEK;QAAQ;MAAC,CAAC;MAC9ClB,OAAO,CAACmB,KAAK,CAACD,QAAQ,CAAC;MACvBjB,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC;IACDmB,OAAO,QAAoB;MAAA,IAAnB;QAAEC;MAAc,CAAC;MACvBhB,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACrB,CAAC;IACDgB,SAAS,EAAE;MACTC,aAAa,EAAEd;IACjB;EAEF,CAAC,CAAC;EAGF,oBACE,QAAC,QAAQ;IAAA,uBACP,QAAC,SAAS;MAAC,QAAQ,EAAC,IAAI;MAAA,wBACtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAiB,eACjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAuB,eACvB,QAAC,KAAK;QAAC,OAAO,EAAE,CAAE;QAAC,aAAa,EAAE,CAAE;QAAA,uBAClC,QAAC,SAAS;UACR,KAAK,EAAC,UAAU;UAChB,IAAI,EAAC,UAAU;UACf,QAAQ,EAAEF;QAAS;UAAA;UAAA;UAAA;QAAA;MACnB;QAAA;QAAA;QAAA;MAAA,QACI;IAAA;MAAA;MAAA;MAAA;IAAA;EAGE;IAAA;IAAA;IAAA;EAAA,QACH;AAGf;AAAC,GAhDQR,QAAQ;EAAA,QAEAN,WAAW,EAOYH,OAAO,EAMVC,WAAW;AAAA;AAAA,KAfvCQ,QAAQ;AAkDjB,eAAeA,QAAQ;AAAA;AAAA"},"metadata":{},"sourceType":"module"}