{"ast":null,"code":"var _jsxFileName = \"A:\\\\Work\\\\PersonalDevelopment\\\\03 {React API}\\\\api_app\\\\src\\\\App.tsx\";\nimport React from 'react';\nimport { ApolloClient, InMemoryCache, ApolloProvider, from, ApolloLink } from '@apollo/client';\nimport './App.css';\nimport { Page } from './pages/page';\nimport { setContext } from '@apollo/client/link/context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst setAuthorizationLink = setContext((request, previousContext) => ({\n  headers: {\n    \"x-hasura-admin-secret\": \"toJYeHHUbn2AoWAanM6duuJBmGcunDU3aLrT84ubUTOQXwu2TA2eZLEd5ZYaeflq\"\n  }\n}));\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  operation.setContext(_ref => {\n    let {\n      headers = {}\n    } = _ref;\n    return {\n      headers: {\n        ...headers,\n        authorization: localStorage.getItem('token') || null\n      }\n    };\n  });\n  return forward(operation);\n});\nconst activityMiddleware = new ApolloLink((operation, forward) => {\n  // add the recent-activity custom header to the headers\n  operation.setContext(_ref2 => {\n    let {\n      headers = {}\n    } = _ref2;\n    return {\n      headers: {\n        ...headers,\n        'recent-activity': localStorage.getItem('lastOnlineTime') || null\n      }\n    };\n  });\n  return forward(operation);\n});\nconst client = new ApolloClient({\n  link: from([setAuthorizationLink, true,, 'https://rapid-jawfish-26.hasura.app/v1/graphql']),\n  cache: new InMemoryCache()\n});\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(ApolloProvider, {\n      client: client,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"poo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Page, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","ApolloClient","InMemoryCache","ApolloProvider","from","ApolloLink","Page","setContext","setAuthorizationLink","request","previousContext","headers","authMiddleware","operation","forward","authorization","localStorage","getItem","activityMiddleware","client","link","cache","App"],"sources":["A:/Work/PersonalDevelopment/03 {React API}/api_app/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport {ApolloClient, InMemoryCache, ApolloProvider,from, ApolloLink} from '@apollo/client';\n\nimport logo from './logo.svg';\nimport './App.css';\nimport { Page } from './pages/page';\nimport {setContext} from '@apollo/client/link/context';\n\nconst setAuthorizationLink = setContext((request, previousContext) => ({\n  headers: \n  {\n  \"x-hasura-admin-secret\": \"toJYeHHUbn2AoWAanM6duuJBmGcunDU3aLrT84ubUTOQXwu2TA2eZLEd5ZYaeflq\"\n  } \n }\n))\n\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  operation.setContext(({ headers = {} }) => ({\n    headers: {\n      ...headers,\n      authorization: localStorage.getItem('token') || null,\n    }\n  }));\n\n  return forward(operation);\n})\n\nconst activityMiddleware = new ApolloLink((operation, forward) => {\n  // add the recent-activity custom header to the headers\n  operation.setContext(({ headers = {} }) => ({\n    headers: {\n      ...headers,\n      'recent-activity': localStorage.getItem('lastOnlineTime') || null,\n    }\n  }));\n\n  return forward(operation);\n})\n\nconst client = new ApolloClient({\n  link: from([\n    setAuthorizationLink,\n    true,\n    ,'https://rapid-jawfish-26.hasura.app/v1/graphql'\n  ]),\n  cache: new InMemoryCache()\n});\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <ApolloProvider client={client}>\n        <h1>poo</h1>\n        <Page/>\n      </ApolloProvider>\n    </div>\n    \n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,YAAY,EAAEC,aAAa,EAAEC,cAAc,EAACC,IAAI,EAAEC,UAAU,QAAO,gBAAgB;AAG3F,OAAO,WAAW;AAClB,SAASC,IAAI,QAAQ,cAAc;AACnC,SAAQC,UAAU,QAAO,6BAA6B;AAAC;AAEvD,MAAMC,oBAAoB,GAAGD,UAAU,CAAC,CAACE,OAAO,EAAEC,eAAe,MAAM;EACrEC,OAAO,EACP;IACA,uBAAuB,EAAE;EACzB;AACD,CAAC,CACD,CAAC;AAEF,MAAMC,cAAc,GAAG,IAAIP,UAAU,CAAC,CAACQ,SAAS,EAAEC,OAAO,KAAK;EAC5D;EACAD,SAAS,CAACN,UAAU,CAAC;IAAA,IAAC;MAAEI,OAAO,GAAG,CAAC;IAAE,CAAC;IAAA,OAAM;MAC1CA,OAAO,EAAE;QACP,GAAGA,OAAO;QACVI,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI;MAClD;IACF,CAAC;EAAA,CAAC,CAAC;EAEH,OAAOH,OAAO,CAACD,SAAS,CAAC;AAC3B,CAAC,CAAC;AAEF,MAAMK,kBAAkB,GAAG,IAAIb,UAAU,CAAC,CAACQ,SAAS,EAAEC,OAAO,KAAK;EAChE;EACAD,SAAS,CAACN,UAAU,CAAC;IAAA,IAAC;MAAEI,OAAO,GAAG,CAAC;IAAE,CAAC;IAAA,OAAM;MAC1CA,OAAO,EAAE;QACP,GAAGA,OAAO;QACV,iBAAiB,EAAEK,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,IAAI;MAC/D;IACF,CAAC;EAAA,CAAC,CAAC;EAEH,OAAOH,OAAO,CAACD,SAAS,CAAC;AAC3B,CAAC,CAAC;AAEF,MAAMM,MAAM,GAAG,IAAIlB,YAAY,CAAC;EAC9BmB,IAAI,EAAEhB,IAAI,CAAC,CACTI,oBAAoB,EACpB,IAAI,GACH,gDAAgD,CAClD,CAAC;EACFa,KAAK,EAAE,IAAInB,aAAa;AAC1B,CAAC,CAAC;AAEF,SAASoB,GAAG,GAAG;EACb,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,uBAClB,QAAC,cAAc;MAAC,MAAM,EAAEH,MAAO;MAAA,wBAC7B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAY,eACZ,QAAC,IAAI;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA;EACQ;IAAA;IAAA;IAAA;EAAA,QACb;AAGV;AAAC,KAVQG,GAAG;AAYZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module"}